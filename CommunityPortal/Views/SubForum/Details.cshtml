@model SubForum

@{
    ViewBag.Title = $"{@Model.Forum.Name} - {@Model.Name} Sub Forum";
    Layout = "_Layout";
}

@section Scripts
{
    <script src="~/js/ToggleElement.js"></script>
}

<div class="d-flex flex-row justify-content-end mb-4">
    <a class="btn btn-primary me-2"
       href="@Url.Action("Create", "Thread", new { subForumId = Model.Id })">New Thread</a>

</div>

<div class="d-flex flex-column rounded-1 border border-1 border-dark mb-4">
    <div class="d-flex align-items-center justify-content-between border-bottom border-dark border-1 p-3">
        <div class="d-inline-flex align-items-center">
            <h5 id="SubForumTitle" class="text-dark fw-bold m-0 me-2">@Model.Name</h5>
            <a class="btn btn-outline-warning" href="@Url.Action("Edit", "SubForum", new {id = Model.Id})">&#9998;</a>
        </div>
        <form method="Post" action="@Url.Action("Delete", "SubForum")">
            @Html.AntiForgeryToken()
            <input type="hidden" value="@Model.Id" name="Id"/>
            <button class="btn btn-danger" type="submit">Delete @Model.Name</button>
        </form>
    </div>

    @{
        foreach (Thread thread in Model.Threads)
        {
            <div class="p-3 border border-bottom border-light">
                <a class="text-dark fw-bold m-0 mb-1 text-decoration-none" href="@Url.Action("Index", "Thread", new {id = thread.Id})">@thread.Subject</a>
                <div class="d-flex flex-row justify-content-between">
                    <small class="text-dark m-0">@thread.User.UserName</small>
                    <small class="text-dark m-0">@thread.TimeStamp</small>
                </div>
            </div>
        }
    }
</div>
